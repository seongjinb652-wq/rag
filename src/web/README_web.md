# Streamlit ì›¹ UI - RAG ì±—ë´‡

## ğŸ“Œ ëª©í‘œ

- âœ… ì‚¬ìš©ì ì¹œí™”ì  ì›¹ ì¸í„°í˜ì´ìŠ¤
- âœ… ì‹¤ì‹œê°„ ì§ˆë¬¸ ì…ë ¥ ë° ë‹µë³€
- âœ… ê²€ìƒ‰ ê²°ê³¼ ì‹œê°í™”
- âœ… ëŒ€í™” íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- âœ… ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§•

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### Step 1: ì„¤ì¹˜ í™•ì¸

```bash
pip install streamlit==1.28.1
```

### Step 2: ì‹¤í–‰

```bash
cd src/web
streamlit run app_chatbot.py
```

### ìë™ ì‹¤í–‰ (ë¸Œë¼ìš°ì €)

```
http://localhost:8501
```

### ì˜ˆìƒ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– RAG ì±—ë´‡                         â”‚
â”‚  ë¬¸ì„œ ê¸°ë°˜ ì§ˆë¬¸ ë‹µë³€ ì‹œìŠ¤í…œ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚  â”‚ âš™ï¸ ì„¤ì •      â”‚
â”‚                  â”‚  â”‚             â”‚
â”‚ ğŸ’¬ ëŒ€í™” íˆìŠ¤í† ë¦¬  â”‚  â”‚ ê²€ìƒ‰ ê²°ê³¼: 5 â”‚
â”‚                  â”‚  â”‚ ë¬¸ì„œ: 100ê°œ  â”‚
â”‚                  â”‚  â”‚             â”‚
â”‚ ğŸ¯ ì§ˆë¬¸ ì…ë ¥     â”‚  â”‚ ğŸ’¾ ì €ì¥      â”‚
â”‚ [________________]  â”‚ ğŸ—‘ï¸ ì´ˆê¸°í™”    â”‚
â”‚ [ğŸš€ ì§ˆë¬¸í•˜ê¸°]    â”‚  â”‚             â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ ğŸ“š ê²€ìƒ‰ ê²°ê³¼     â”‚
â”‚ [ê²°ê³¼ 1][ê²°ê³¼ 2] â”‚
â”‚ [ê²°ê³¼ 3][ê²°ê³¼ 4] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ê¸°ëŠ¥ ìƒì„¸

### 1ï¸âƒ£ ëŒ€í™” ì¸í„°í˜ì´ìŠ¤

```
ğŸ’¬ ëŒ€í™” íˆìŠ¤í† ë¦¬
â”œâ”€â”€ ì‚¬ìš©ì ë©”ì‹œì§€
â”‚   â””â”€â”€ "ì„œìš¸ì— ëŒ€í•´ ì•Œë ¤ì¤˜"
â”œâ”€â”€ AI ë‹µë³€
â”‚   â””â”€â”€ "ì„œìš¸ì€ í•œë°˜ë„ ì¤‘ì•™ì—..."
â””â”€â”€ ì†Œìš” ì‹œê°„ í‘œì‹œ
```

### 2ï¸âƒ£ ê²€ìƒ‰ ê²°ê³¼

```python
st.expander(f"ğŸ“„ ê²°ê³¼ 1 - ìœ ì‚¬ë„: 0.85")
â”œâ”€â”€ ë¬¸ì„œ ë‚´ìš© (ì²˜ìŒ 300ì)
â”œâ”€â”€ ì¶œì²˜
â””â”€â”€ ìœ ì‚¬ë„ ì ìˆ˜
```

### 3ï¸âƒ£ ì‚¬ì´ë“œë°” ì„¤ì •

```
âš™ï¸ ì„¤ì •
â”œâ”€â”€ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ (1~10)
â”œâ”€â”€ ëª¨ë¸ ì •ë³´
â”‚   â”œâ”€â”€ LLM: claude-3.5-sonnet
â”‚   â””â”€â”€ ì„ë² ë”©: xlm-r-multilingual
â”œâ”€â”€ ë¬¸ì„œ ì •ë³´
â”‚   â”œâ”€â”€ ì €ì¥ ë¬¸ì„œ: 100ê°œ
â”‚   â””â”€â”€ ì°¨ì›: 768
â””â”€â”€ ëŒ€í™” ê´€ë¦¬
    â”œâ”€â”€ ğŸ’¾ ì €ì¥
    â””â”€â”€ ğŸ—‘ï¸ ì´ˆê¸°í™”
```

### 4ï¸âƒ£ ëŒ€í™” ì €ì¥

```python
# ìë™ ì €ì¥ ìœ„ì¹˜
logs/conversation_20250126_143052.json

# ì €ì¥ í˜•ì‹
[
    {
        "role": "user",
        "content": "ì„œìš¸ì— ëŒ€í•´ ì•Œë ¤ì¤˜",
        "timestamp": "2025-01-26T14:30:52..."
    },
    {
        "role": "assistant",
        "content": "ì„œìš¸ì€...",
        "timestamp": "...",
        "elapsed_time": 2.34
    }
]
```

---

## ğŸ¨ UI ì»¤ìŠ¤í„°ë§ˆì´ì§•

### í˜ì´ì§€ ì„¤ì •

```python
st.set_page_config(
    page_title="RAG ì±—ë´‡",
    page_icon="ğŸ¤–",
    layout="wide",
    initial_sidebar_state="expanded"
)
```

### CSS ì»¤ìŠ¤í„°ë§ˆì´ì§•

```python
st.markdown("""
<style>
    .stChatMessage {
        background-color: #f0f2f6;
        border-radius: 10px;
    }
</style>
""", unsafe_allow_html=True)
```

---

## âš™ï¸ ì„¤ì •

### ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ ë³€ê²½

```python
# app_chatbot.pyì—ì„œ
search_k = st.slider(
    "ê²€ìƒ‰ ê²°ê³¼ ìˆ˜",
    min_value=1,
    max_value=10,
    value=5  # â† ë³€ê²½
)
```

### íƒ€ì„ì•„ì›ƒ ì„¤ì •

```python
# config.pyì—ì„œ
API_TIMEOUT = 30  # ì´ˆ
```

---

## ğŸ“Š ì„±ëŠ¥

| í•­ëª© | ì‹œê°„ |
|------|------|
| í˜ì´ì§€ ë¡œë“œ | 1~2ì´ˆ |
| RAG íŒŒì´í”„ë¼ì¸ | 2~3ì´ˆ |
| ì „ì²´ ì‘ë‹µ | 3~4ì´ˆ |

---

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì˜¤ë¥˜: "ModuleNotFoundError"

**í™•ì¸:**
```bash
cd C:\Users\USER\rag\src\web
streamlit run app_chatbot.py
```

### ì˜¤ë¥˜: "Chroma DB ì—°ê²° ì‹¤íŒ¨"

**ì›ì¸:** Day 3 ë¯¸ì™„ë£Œ

**í•´ê²°:**
```bash
python ../embed/setup_vector_store.py
```

### ëŠë¦° ì‘ë‹µ

**ì›ì¸:** Claude API ì‘ë‹µ ëŒ€ê¸°

**í™•ì¸:**
```python
# app_chatbot.pyì—ì„œ
elapsed_time = result['elapsed_time']
st.info(f"ì†Œìš” ì‹œê°„: {elapsed_time}ì´ˆ")
```

---

## ğŸ“ ìƒì„± íŒŒì¼

```
src/web/
â”œâ”€â”€ app_chatbot.py      # Streamlit ì•±
â””â”€â”€ README_web.md       # ì´ ë¬¸ì„œ

logs/
â””â”€â”€ conversation_*.json # ì €ì¥ëœ ëŒ€í™”
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â˜‘ï¸ pip install streamlit==1.28.1
â˜‘ï¸ config.py, .env ìœ„ì¹˜ í™•ì¸
â˜‘ï¸ Day 3, 4 ì™„ë£Œ (DB, RAG ì—”ì§„)
â˜‘ï¸ streamlit run app_chatbot.py
â˜‘ï¸ http://localhost:8501 ì ‘ì†
â˜‘ï¸ ì§ˆë¬¸ ì…ë ¥ í›„ ë‹µë³€ í™•ì¸
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Day 6: ë°°ì¹˜ ìë™í™”** (`src/batch/`)

- ì›” 1íšŒ ìë™ ë¬¸ì„œ ì²˜ë¦¬
- ë„¤ì´ë²„ í´ë¼ìš°ë“œì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
- ë²¡í„° DB ì—…ë°ì´íŠ¸
- ì—ëŸ¬ ë¡œê¹…

---

## ğŸ’¡ íŒ

### ë¹ ë¥¸ ì‹œì‘

```bash
cd src/web
streamlit run app_chatbot.py
```

### ë””ë²„ê·¸ ëª¨ë“œ

```python
# app_chatbot.py ìƒë‹¨ì— ì¶”ê°€
import logging
logging.basicConfig(level=logging.DEBUG)
```

### í¬íŠ¸ ë³€ê²½

```bash
streamlit run app_chatbot.py --server.port 8502
```

---

**ì›¹ UI ì¤€ë¹„ ì™„ë£Œ! ğŸš€**
